---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';
import Page from './Page.astro';

const { frontmatter } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/images/projects/*.{jpeg,jpg,png,gif,svg}');
if (!images[frontmatter.image.url]) throw new Error(`"${frontmatter.image.url}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);

---
<Page pageTitle={frontmatter.name}>
  <Image src={images[frontmatter.image.url]()} alt={frontmatter.image.alt} />
  <slot />
</Page>
<style>
  img {
    display: block;
    margin:0 auto 1em;
    border-radius: 10px;
  }
</style>
